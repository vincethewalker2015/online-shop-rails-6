<div class="jumbotron">
  <h1>Your Shopping Cart</h1>
</div>

<div class="row">
  <table class="table">
    <thead>
      <th>Name</th>
      <th>Price</th>
      <th>Quantity</th>
      <th>Subtotal</th>
    </thead>
    <tbody>
      <% @cart_products_with_qty.each do |array| %>
        <% product = array[0] %>
        <% qty = array[1] %>
        <tr>
          <td class="align-middle"><%= product.name %></td>
          <td class="align-middle"><%= product.price.to_i %></td>
          <td class="align-middle"><%= qty %></td>
          <td class="align-middle"><%= product.price * qty.to_i %></td>
          <td class="align-middle">
            <%= link_to '+', add_to_cart_path(product), method: :put, class: "btn btn-primary btn-sm" %>
            <%= link_to '-', remove_one_cart_path(product), method: :put, class: "btn btn-warning btn-sm" %>
            <%= link_to 'Remove', remove_from_cart_path(product), method: :put, class: "btn btn-danger" %>
          </td>
        </tr>
      <% end %>
      <tr class="font-weight-bold card-footer mt-1">
          <td colspan="3">
            <h5>Total</h5>
          </td>
          <div >
            <td>
              <h5><span class="mr-1">Â£</span><%= @cart_total %></h5>
            </td>
          </div>
        </tr>
    </tbody>
  </table>
  <%= link_to "Checkout", new_transaction_path, class: "btn btn-success" unless current_user.get_cart_products_with_qty.blank? %>
  <%#= link_to "Checkout", new_transaction_path, class: "btn btn-success" unless current_user.get_cart_products_with_qty.blank? %>
  <%= link_to "Back to Products", new_product_path, class: "btn btn-warning ml-2" %>
</div>